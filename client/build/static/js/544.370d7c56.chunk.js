"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[544],{60:(e,s,a)=>{a.r(s),a.d(s,{default:()=>p});var t=a(43),n=a(208),c=a(547),l=a(998),o=a(416);const r=a.p+"static/media/dragon_egg.46bf7bb95bf9561239d7.webp",i=a.p+"static/media/beacon.4493e6b9ee97a80325b2.webp",d=a.p+"static/media/sponge.c5d1b69c2e9e10cccf7c.webp";var m=a(579);const p=e=>{var s,a,p;let{isLogged:g}=e;const[u,f]=(0,t.useState)({dragonEgg:{users:[]},beacon:{users:[]},sponge:{users:[]}}),j={DragonEgg:{multiplier:15e8,label:"DragonEgg",format:e=>"".concat((0,c.qy)(e)," = ").concat((0,c.$M)(15e8*e)," $")},Beacon:{multiplier:15e7,label:"Beacon",format:e=>"".concat((0,c.qy)(e)," = ").concat((0,c.$M)(15e7*e)," $")},Sponge:{multiplier:15e6,label:"Sponge",format:e=>"".concat((0,c.qy)(e)," = ").concat((0,c.$M)(15e6*e)," $")}};return(0,t.useEffect)(()=>{Promise.all([(0,n.A)("dragonegg"),(0,n.A)("beacon"),(0,n.A)("sponge")]).then(e=>{let[s,a,t]=e;f({dragonEgg:(0,c.Ro)(s.users),beacon:(0,c.Ro)(a.users),sponge:(0,c.Ro)(t.users)})})},[]),(0,m.jsxs)("section",{className:"App",children:[(0,m.jsxs)("div",{className:"lff-classements-container",children:[(0,m.jsx)(o.A,{title:(0,m.jsxs)(m.Fragment,{children:["Classement Egg"," ",(0,m.jsx)("img",{className:"lff-classements-icon",src:r,alt:"Dragon Egg"})]}),top:null===(s=u.dragonEgg)||void 0===s?void 0:s.users}),(0,m.jsx)(o.A,{title:(0,m.jsxs)(m.Fragment,{children:["Classement Beacon"," ",(0,m.jsx)("img",{className:"lff-classements-icon",src:i,alt:"Beacon"})]}),top:null===(a=u.beacon)||void 0===a?void 0:a.users}),(0,m.jsx)(o.A,{title:(0,m.jsxs)(m.Fragment,{children:["Classement Sponge"," ",(0,m.jsx)("img",{className:"lff-classements-icon",src:d,alt:"Sponge"})]}),top:null===(p=u.sponge)||void 0===p?void 0:p.users})]}),g&&(0,m.jsx)(l.A,{setTops:f,selectDefault:"DragonEgg",options:j})]})}},208:(e,s,a)=>{a.d(s,{A:()=>n});const{defaultURL:t}=a(938),n=async e=>{const s=await fetch(t+"/leaderboard/current/"+e,{method:"GET",headers:{"Content-Type":"application/json"}});return await s.json()}},416:(e,s,a)=>{a.d(s,{A:()=>l});var t=a(184),n=a(547),c=a(579);const l=e=>{let{title:s,top:a,start:l,end:o,requiredAmount:r}=e;const i=Array.isArray(a)?[...a].sort((e,s)=>s.score-e.score):[],d=i.findIndex(e=>e.score<r),m=(0,n.kz)(l),p=(0,n.kz)(o);return(0,c.jsxs)("div",{children:[(0,c.jsx)("h5",{style:{color:"var(--text85)"},children:s}),(0,c.jsxs)("ul",{className:"lff-classement",children:[Array.isArray(i)&&i.flatMap((e,s)=>{let{score:a,name:l}=e;const o=[];return d===s&&o.push((0,c.jsx)("li",{className:"lff-separator",children:(0,c.jsxs)("span",{className:"lff-separator-text",children:[r," pts mini"]})},"separator-".concat(s))),o.push((0,c.jsxs)("li",{children:[(0,c.jsx)("span",{className:"lff-classement-top",children:0===s?(0,c.jsx)(t.SBv,{color:"#FFD700"}):1===s?(0,c.jsx)(t.SBv,{color:"#C0C0C0"}):2===s?(0,c.jsx)(t.SBv,{color:"#CD7F32"}):s+1}),(0,c.jsx)("span",{className:"lff-classement-score",children:(0,n.qy)(a)}),(0,c.jsx)("span",{className:"lff-classement-name",children:l})]},"player-".concat(s))),o}),(0,c.jsx)("li",{className:"lff-separator",children:(0,c.jsx)("span",{className:"lff-separator-text",children:m&&p?"".concat(m," - ").concat(p):""})},"dates")]})]})}},998:(e,s,a)=>{a.d(s,{A:()=>i});var t=a(555),n=a(43),c=a(423);const{defaultURL:l}=a(938),o=async(e,s)=>{const a=await fetch(l+"/points/add/"+s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token_type")," ").concat(localStorage.getItem("access_token"))},body:JSON.stringify({score:e})});return await a.json()};var r=a(579);const i=e=>{let{setTops:s,selectDefault:a,options:l}=e;const[i,d]=(0,n.useState)(!1),[m,p]=(0,n.useState)(0),[g,u]=(0,n.useState)(a);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"add-points-container",onClick:()=>d(e=>!e),children:(0,r.jsx)(c.Hpy,{})}),i&&(0,r.jsxs)("div",{className:"add-points",children:[(0,r.jsx)("p",{className:"grid-add1",children:"Classement"}),(0,r.jsx)("select",{className:"grid-add2",name:"Classement",value:g,onChange:e=>u(e.target.value),children:Object.keys(l).map(e=>(0,r.jsxs)("option",{value:e,children:[l[e].label," ",l[e].emoji]},e))}),(0,r.jsx)("input",{className:"grid-add3",type:"number",name:"Points",value:m,min:"0",max:"10000",onChange:e=>{!e.target.value||e.target.value<0?p(0):e.target.value>1e4?p(1e4):p(parseInt(e.target.value))}}),(0,r.jsx)("button",{className:"grid-add4",onClick:()=>{m>0&&(o(m,g.toLowerCase()).then(e=>{s(s=>(0,t.A)((0,t.A)({},s),{},{[g.toLowerCase()]:(0,t.A)((0,t.A)({},s[g.toLowerCase()]),{},{users:e.users})}))}),p(0),d(!1))},children:"Ajouter"}),(0,r.jsx)("p",{className:"grid-add5",children:l[g].format(m)||""})]})]})}}}]);
//# sourceMappingURL=544.370d7c56.chunk.js.map