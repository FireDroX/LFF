"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[984],{208:(e,s,t)=>{t.d(s,{A:()=>n});const{defaultURL:a}=t(938),n=async e=>{const s=await fetch(a+"/leaderboard/current/"+e,{method:"GET",headers:{"Content-Type":"application/json"}});return await s.json()}},416:(e,s,t)=>{t.d(s,{A:()=>l});var a=t(184),n=t(547),r=t(579);const l=e=>{let{title:s,top:t,start:l,end:o,requiredAmount:c}=e;const i=Array.isArray(t)?[...t].sort((e,s)=>s.score-e.score):[],d=i.findIndex(e=>e.score<c),u=(0,n.kz)(l),m=(0,n.kz)(o);return(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{style:{color:"var(--text85)"},children:s}),(0,r.jsxs)("ul",{className:"lff-classement",children:[Array.isArray(i)&&i.flatMap((e,s)=>{let{score:t,name:l}=e;const o=[];return d===s&&o.push((0,r.jsx)("li",{className:"lff-separator",children:(0,r.jsxs)("span",{className:"lff-separator-text",children:[c," pts mini"]})},"separator-".concat(s))),o.push((0,r.jsxs)("li",{children:[(0,r.jsx)("span",{className:"lff-classement-top",children:0===s?(0,r.jsx)(a.SBv,{color:"#FFD700"}):1===s?(0,r.jsx)(a.SBv,{color:"#C0C0C0"}):2===s?(0,r.jsx)(a.SBv,{color:"#CD7F32"}):s+1}),(0,r.jsx)("span",{className:"lff-classement-score",children:(0,n.qy)(t)}),(0,r.jsx)("span",{className:"lff-classement-name",children:l})]},"player-".concat(s))),o}),(0,r.jsx)("li",{className:"lff-separator",children:(0,r.jsx)("span",{className:"lff-separator-text",children:u&&m?"".concat(u," - ").concat(m):""})},"dates")]})]})}},984:(e,s,t)=>{t.r(s),t.d(s,{default:()=>i});var a=t(43),n=t(208),r=t(547),l=t(998),o=t(416),c=t(579);const i=e=>{var s,t,i,d,u,m;let{isLogged:p}=e;const[x,h]=(0,a.useState)({crystaux:{users:[]},iscoin:{users:[]}}),j={Crystaux:{emoji:"\ud83d\udc8e",multiplier:100,label:"Crystaux",format:e=>"".concat((0,r.qy)(e)," = ").concat((0,r.$M)(100*e)," Crystaux")},IsCoin:{emoji:"\ud83e\ude99",multiplier:2e6,label:"IsCoin",format:e=>"".concat((0,r.qy)(e)," = ").concat((0,r.$M)(2e6*e)," $")}};return(0,a.useEffect)(()=>{Promise.all([(0,n.A)("crystaux"),(0,n.A)("iscoin")]).then(e=>{let[s,t]=e;h({crystaux:(0,r.Ro)(s.users,s.start,s.end),iscoin:(0,r.Ro)(t.users,t.start,t.end)})})},[]),(0,c.jsxs)("section",{className:"App",children:[(0,c.jsxs)("div",{className:"lff-classements-container",children:[(0,c.jsx)(o.A,{title:"Classement Crystaux \ud83d\udc8e",top:null===(s=x.crystaux)||void 0===s?void 0:s.users,start:null===(t=x.crystaux)||void 0===t?void 0:t.start,end:null===(i=x.crystaux)||void 0===i?void 0:i.end,requiredAmount:50}),(0,c.jsx)(o.A,{title:"Classement IsCoin \ud83e\ude99",top:null===(d=x.iscoin)||void 0===d?void 0:d.users,start:null===(u=x.iscoin)||void 0===u?void 0:u.start,end:null===(m=x.iscoin)||void 0===m?void 0:m.end,requiredAmount:1e3})]}),p&&(0,c.jsx)(l.A,{setTops:h,selectDefault:"Crystaux",options:j})]})}},998:(e,s,t)=>{t.d(s,{A:()=>i});var a=t(555),n=t(43),r=t(423);const{defaultURL:l}=t(938),o=async(e,s)=>{const t=await fetch(l+"/points/add/"+s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token_type")," ").concat(localStorage.getItem("access_token"))},body:JSON.stringify({score:e})});return await t.json()};var c=t(579);const i=e=>{let{setTops:s,selectDefault:t,options:l}=e;const[i,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)(0),[p,x]=(0,n.useState)(t);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"add-points-container",onClick:()=>d(e=>!e),children:(0,c.jsx)(r.Hpy,{})}),i&&(0,c.jsxs)("div",{className:"add-points",children:[(0,c.jsx)("p",{className:"grid-add1",children:"Classement"}),(0,c.jsx)("select",{className:"grid-add2",name:"Classement",value:p,onChange:e=>x(e.target.value),children:Object.keys(l).map(e=>(0,c.jsxs)("option",{value:e,children:[l[e].label," ",l[e].emoji]},e))}),(0,c.jsx)("input",{className:"grid-add3",type:"number",name:"Points",value:u,min:"0",max:"10000",onChange:e=>{!e.target.value||e.target.value<0?m(0):e.target.value>1e4?m(1e4):m(parseInt(e.target.value))}}),(0,c.jsx)("button",{className:"grid-add4",onClick:()=>{u>0&&(o(u,p.toLowerCase()).then(e=>{s(s=>(0,a.A)((0,a.A)({},s),{},{[p.toLowerCase()]:(0,a.A)((0,a.A)({},s[p.toLowerCase()]),{},{users:e.users})}))}),m(0),d(!1))},children:"Ajouter"}),(0,c.jsx)("p",{className:"grid-add5",children:l[p].format(u)||""})]})]})}}}]);
//# sourceMappingURL=984.654926a4.chunk.js.map