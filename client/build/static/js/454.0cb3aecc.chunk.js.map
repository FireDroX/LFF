{"version":3,"file":"static/js/454.0cb3aecc.chunk.js","mappings":"4KAQA,MAoHA,EApHgBA,IAAyB,IAAxB,SAAEC,EAAQ,KAAEC,GAAMF,EACjC,MAAOG,EAAQC,IAAaC,EAAAA,EAAAA,UAAS,CACnCC,SAAU,EACVC,OAAQ,EACRC,UAAW,EACXC,OAAQ,EACRC,OAAQ,IAaV,IAVAC,EAAAA,EAAAA,WAAU,KACJV,GAAYC,IACdU,EAAAA,EAAAA,MAAUC,KAAMC,IACVA,IAAWA,EAAOC,OACpBX,EAAUU,EAAOX,WAItB,CAACF,EAAUC,KAETD,EACH,OACEe,EAAAA,EAAAA,KAAA,WAASC,UAAU,MAAKC,UACtBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,8CAA6CC,UAC1DC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,eAAcC,SAAA,EAC3BF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,wBACJF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,qEAOb,MAAME,EAAc,CAClBC,KAAM,MACNnB,KAAM,CACJoB,OAAQ,CAAC,WAAY,SAAU,YAAa,SAAU,UACtDC,SAAU,CACR,CACEC,MAAO,uBACPtB,KAAM,CACJC,EAAOG,SACPH,EAAOI,OACPJ,EAAOK,UACPL,EAAOM,OACPN,EAAOO,QAETe,gBAAiB,GACjBC,aAAc,KAIpBC,QAAS,CACPC,OAAQ,CACNC,MAAO,CACL,CACEC,GAAI,KACJC,SAAU,WAIhBC,QAAS,CACPC,WAAY,OAKlB,OACEjB,EAAAA,EAAAA,KAAA,WAASC,UAAU,MAAKC,UACtBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,8CAA6CC,UAC1DC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,eAAcC,SAAA,EAC3BC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,sBAAqBC,SAAA,EAClCF,EAAAA,EAAAA,KAAA,OACEC,UAAU,mBACViB,IAAG,sCAAAC,OAA4C,OAAJjC,QAAI,IAAJA,OAAI,EAAJA,EAAM4B,GAAE,KAAAK,OAAQ,OAAJjC,QAAI,IAAJA,OAAI,EAAJA,EAAMkC,OAAM,QACnEC,IAAS,OAAJnC,QAAI,IAAJA,OAAI,EAAJA,EAAMoC,eAEbtB,EAAAA,EAAAA,KAAA,MAAIC,UAAU,oBAAmBC,SAAM,OAAJhB,QAAI,IAAJA,OAAI,EAAJA,EAAMoC,kBAE3CnB,EAAAA,EAAAA,MAAA,OAAKF,UAAU,sBAAqBC,SAAA,EAClCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,sBAAqBC,SAAA,EAClCF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,gBACHC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,wBAAuBC,SAAA,EAC/B,OAAJhB,QAAI,IAAJA,OAAI,EAAJA,EAAMqC,MAAMC,SAAS,eACpBrB,EAAAA,EAAAA,MAAA,QAAMF,UAAU,oBAAmBC,SAAA,EACjCF,EAAAA,EAAAA,KAACyB,EAAAA,IAAa,IAAG,WAIhB,OAAJvC,QAAI,IAAJA,OAAI,EAAJA,EAAMqC,MAAMC,SAAS,aACpBrB,EAAAA,EAAAA,MAAA,QAAMF,UAAU,sBAAqBC,SAAA,EACnCF,EAAAA,EAAAA,KAAC0B,EAAAA,IAAU,IAAG,aAIb,OAAJxC,QAAI,IAAJA,OAAI,EAAJA,EAAMyC,WACLxB,EAAAA,EAAAA,MAAA,QAAMF,UAAU,qBAAoBC,SAAA,EAClCF,EAAAA,EAAAA,KAAC4B,EAAAA,IAAoB,IAAG,sBAMhC5B,EAAAA,EAAAA,KAAA,OACEC,UAAU,gBACViB,IAAG,sDAAAC,OAAwDU,mBACzDC,KAAKC,UAAU3B,KAEjBiB,IAAI,yB","sources":["pages/profile/Profile.jsx"],"sourcesContent":["import \"./Profile.css\";\nimport { useState, useEffect } from \"react\";\n\nimport { MdLeaderboard, MdAdminPanelSettings } from \"react-icons/md\";\nimport { GiTwoCoins } from \"react-icons/gi\";\n\nimport { profile } from \"../../utils/requests\";\n\nconst Profile = ({ isLogged, data }) => {\n  const [totals, setTotals] = useState({\n    crystaux: 0,\n    iscoin: 0,\n    dragonegg: 0,\n    beacon: 0,\n    sponge: 0,\n  });\n\n  useEffect(() => {\n    if (isLogged && data) {\n      profile().then((result) => {\n        if (result && !result.error) {\n          setTotals(result.totals);\n        }\n      });\n    }\n  }, [isLogged, data]);\n\n  if (!isLogged) {\n    return (\n      <section className=\"App\">\n        <div className=\"profile-dashboard profile-dashboard--center\">\n          <div className=\"profile-card\">\n            <h3>Accès refusé</h3>\n            <p>Ce tableau de bord est réservé aux membres du site.</p>\n          </div>\n        </div>\n      </section>\n    );\n  }\n\n  const chartConfig = {\n    type: \"bar\",\n    data: {\n      labels: [\"Crystaux\", \"IsCoin\", \"DragonEgg\", \"Beacon\", \"Sponge\"],\n      datasets: [\n        {\n          label: \"Valeur Totale (en $)\",\n          data: [\n            totals.crystaux,\n            totals.iscoin,\n            totals.dragonegg,\n            totals.beacon,\n            totals.sponge,\n          ],\n          backgroundColor: \"\",\n          borderRadius: 5,\n        },\n      ],\n    },\n    options: {\n      scales: {\n        yAxes: [\n          {\n            id: \"Y1\",\n            position: \"right\",\n          },\n        ],\n      },\n      plugins: {\n        tickFormat: \"a\",\n      },\n    },\n  };\n\n  return (\n    <section className=\"App\">\n      <div className=\"profile-dashboard profile-dashboard--center\">\n        <div className=\"profile-card\">\n          <div className=\"profile-card-header\">\n            <img\n              className=\"profile-card-pic\"\n              src={`https://cdn.discordapp.com/avatars/${data?.id}/${data?.avatar}.png`}\n              alt={data?.global_name}\n            />\n            <h3 className=\"profile-card-name\">{data?.global_name}</h3>\n          </div>\n          <div className=\"profile-card-footer\">\n            <div className=\"profile-card-access\">\n              <p>Accès :</p>\n              <div className=\"profile-access-badges\">\n                {data?.flags.includes(\"crystaux\") && (\n                  <span className=\"access-badge gang\">\n                    <MdLeaderboard />\n                    Gang\n                  </span>\n                )}\n                {data?.flags.includes(\"iscoin\") && (\n                  <span className=\"access-badge island\">\n                    <GiTwoCoins />\n                    Island\n                  </span>\n                )}\n                {data?.isAdmin && (\n                  <span className=\"access-badge admin\">\n                    <MdAdminPanelSettings />\n                    Dashboard\n                  </span>\n                )}\n              </div>\n            </div>\n            <img\n              className=\"profile-chart\"\n              src={`https://quickchart.io/chart?width=450&height=250&c=${encodeURIComponent(\n                JSON.stringify(chartConfig)\n              )}`}\n              alt=\"User stats\"\n            />\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default Profile;\n"],"names":["_ref","isLogged","data","totals","setTotals","useState","crystaux","iscoin","dragonegg","beacon","sponge","useEffect","profile","then","result","error","_jsx","className","children","_jsxs","chartConfig","type","labels","datasets","label","backgroundColor","borderRadius","options","scales","yAxes","id","position","plugins","tickFormat","src","concat","avatar","alt","global_name","flags","includes","MdLeaderboard","GiTwoCoins","isAdmin","MdAdminPanelSettings","encodeURIComponent","JSON","stringify"],"sourceRoot":""}