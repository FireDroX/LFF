"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[659],{659:(s,a,e)=>{e.r(a),e.d(a,{default:()=>n});var c=e(43),i=e(720),o=e(639);const{defaultURL:r}=e(938),l=async()=>{const s=await fetch(r+"/profile",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token_type")," ").concat(localStorage.getItem("access_token"))}}),a=await s.json();if(!s.ok)throw new Error((null===a||void 0===a?void 0:a.error)||"Failed to add points");return a};var d=e(579);const n=s=>{let{isLogged:a,data:e}=s;const[r,n]=(0,c.useState)({crystaux:0,iscoin:0,dragonegg:0,beacon:0,sponge:0});if((0,c.useEffect)(()=>{a&&e&&l().then(s=>{s&&!s.error&&n(s.totals)})},[a,e]),!a)return(0,d.jsx)("section",{className:"App",children:(0,d.jsx)("div",{className:"profile-dashboard profile-dashboard--center",children:(0,d.jsxs)("div",{className:"profile-card",children:[(0,d.jsx)("h3",{children:"Acc\xe8s refus\xe9"}),(0,d.jsx)("p",{children:"Ce tableau de bord est r\xe9serv\xe9 aux membres du site."})]})})});const t={type:"bar",data:{labels:["Crystaux","IsCoin","DragonEgg","Beacon","Sponge"],datasets:[{label:"Valeur Totale (en $)",data:[r.crystaux,r.iscoin,r.dragonegg,r.beacon,r.sponge],backgroundColor:"",borderRadius:5}]},options:{scales:{yAxes:[{id:"Y1",position:"right"}]},plugins:{tickFormat:"a"}}};return(0,d.jsx)("section",{className:"App",children:(0,d.jsx)("div",{className:"profile-dashboard profile-dashboard--center",children:(0,d.jsxs)("div",{className:"profile-card",children:[(0,d.jsxs)("div",{className:"profile-card-header",children:[(0,d.jsx)("img",{className:"profile-card-pic",src:"https://cdn.discordapp.com/avatars/".concat(null===e||void 0===e?void 0:e.id,"/").concat(null===e||void 0===e?void 0:e.avatar,".png"),alt:null===e||void 0===e?void 0:e.global_name}),(0,d.jsx)("h3",{className:"profile-card-name",children:null===e||void 0===e?void 0:e.global_name})]}),(0,d.jsxs)("div",{className:"profile-card-footer",children:[(0,d.jsxs)("div",{className:"profile-card-access",children:[(0,d.jsx)("p",{children:"Acc\xe8s :"}),(0,d.jsxs)("div",{className:"profile-access-badges",children:[(null===e||void 0===e?void 0:e.flags.includes("crystaux"))&&(0,d.jsxs)("span",{className:"access-badge gang",children:[(0,d.jsx)(i.ju$,{}),"Gang"]}),(null===e||void 0===e?void 0:e.flags.includes("iscoin"))&&(0,d.jsxs)("span",{className:"access-badge island",children:[(0,d.jsx)(o.DXl,{}),"Island"]}),(null===e||void 0===e?void 0:e.isAdmin)&&(0,d.jsxs)("span",{className:"access-badge admin",children:[(0,d.jsx)(i.g_8,{}),"Dashboard"]})]})]}),(0,d.jsx)("img",{className:"profile-chart",src:"https://quickchart.io/chart?width=450&height=250&c=".concat(encodeURIComponent(JSON.stringify(t))),alt:"User stats"})]})]})})})}}}]);
//# sourceMappingURL=659.e9315f04.chunk.js.map