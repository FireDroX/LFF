"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[734],{208:(e,a,s)=>{s.d(a,{A:()=>n});const{defaultURL:t}=s(938),n=async e=>{const a=await fetch(t+"/leaderboard/current/"+e,{method:"GET",headers:{"Content-Type":"application/json"}}),s=await a.json();if(!a.ok)throw new Error((null===s||void 0===s?void 0:s.error)||"Failed to fetch current top leaderboard");return s}},416:(e,a,s)=>{s.d(a,{A:()=>o});var t=s(184),n=s(547),r=s(579);const o=e=>{let{title:a,top:s,start:o,end:c,requiredAmount:l}=e;const i=Array.isArray(s)?[...s].sort((e,a)=>a.score-e.score):[],d=i.findIndex(e=>e.score<l),p=(0,n.kz)(o),u=(0,n.kz)(c);return(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{style:{color:"var(--text85)"},children:a}),(0,r.jsxs)("ul",{className:"lff-classement",children:[Array.isArray(i)&&i.flatMap((e,a)=>{let{score:s,name:o}=e;const c=[];return d===a&&c.push((0,r.jsx)("li",{className:"lff-separator",children:(0,r.jsxs)("span",{className:"lff-separator-text",children:[l," pts mini"]})},"separator-".concat(a))),c.push((0,r.jsxs)("li",{children:[(0,r.jsx)("span",{className:"lff-classement-top",children:0===a?(0,r.jsx)(t.SBv,{color:"#FFD700"}):1===a?(0,r.jsx)(t.SBv,{color:"#C0C0C0"}):2===a?(0,r.jsx)(t.SBv,{color:"#CD7F32"}):a+1}),(0,r.jsx)("span",{className:"lff-classement-score",children:(0,n.qy)(s)}),(0,r.jsx)("span",{className:"lff-classement-name",children:o})]},"player-".concat(a))),c}),(0,r.jsx)("li",{className:"lff-separator",children:(0,r.jsx)("span",{className:"lff-separator-text",children:p&&u?"".concat(p," - ").concat(u):""})},"dates")]})]})}},552:(e,a,s)=>{s.r(a),s.d(a,{default:()=>d});var t=s(43),n=s(208),r=s(547),o=s(722),c=s(998),l=s(416),i=s(579);const d=e=>{let{isLogged:a,flags:s}=e;const[d,p]=(0,t.useState)({dragonEgg:{users:[]},beacon:{users:[]},sponge:{users:[]}}),u=(0,r.ri)(o.J,s);(0,t.useEffect)(()=>{Promise.all([(0,n.A)("dragonegg"),(0,n.A)("beacon"),(0,n.A)("sponge")]).then(e=>{let[a,s,t]=e;p({dragonegg:(0,r.Ro)(a.users),beacon:(0,r.Ro)(s.users),sponge:(0,r.Ro)(t.users)})})},[]);return(0,i.jsxs)("section",{className:"App",children:[(0,i.jsx)("div",{className:"lff-classements-container",children:["dragonegg","beacon","sponge"].map(e=>{var a;return(0,i.jsx)(l.A,{title:(0,i.jsxs)(i.Fragment,{children:[o.J[e].label," ",(0,i.jsx)("img",{className:"lff-classements-icon",src:o.J[e].icon,alt:o.J[e].label})]}),top:null===(a=d[e])||void 0===a?void 0:a.users},e)})}),a&&Object.keys(u).length>0&&(0,i.jsx)(c.A,{setTops:p,selectDefault:Object.keys(u)[0],options:u})]})}},722:(e,a,s)=>{s.d(a,{J:()=>d,t:()=>i});var t=s(547);const n=s.p+"static/media/crystaux.6031ea774af93543fa7e.webp",r=s.p+"static/media/iscoin.3d3917b803cb880ac7b2.webp",o=s.p+"static/media/dragon_egg.46bf7bb95bf9561239d7.webp",c=s.p+"static/media/beacon.4493e6b9ee97a80325b2.webp",l=s.p+"static/media/sponge.c5d1b69c2e9e10cccf7c.webp",i={crystaux:{multiplier:100,label:"Crystaux",format:e=>"".concat((0,t.qy)(e)," = ").concat((0,t.$M)(100*e)," Crystaux"),requiredAmount:50,icon:n},iscoin:{multiplier:2e6,label:"IsCoin",format:e=>"".concat((0,t.qy)(e)," = ").concat((0,t.$M)(2e6*e)," $"),requiredAmount:1e3,icon:r}},d={dragonegg:{multiplier:15e8,label:"DragonEgg",format:e=>"".concat((0,t.qy)(e)," = ").concat((0,t.$M)(15e8*e)," $"),icon:o},beacon:{multiplier:15e7,label:"Beacon",format:e=>"".concat((0,t.qy)(e)," = ").concat((0,t.$M)(15e7*e)," $"),icon:c},sponge:{multiplier:15e6,label:"Sponge",format:e=>"".concat((0,t.qy)(e)," = ").concat((0,t.$M)(15e6*e)," $"),icon:l}}},998:(e,a,s)=>{s.d(a,{A:()=>i});var t=s(555),n=s(43),r=s(423);const{defaultURL:o}=s(938),c=async(e,a)=>{const s=await fetch(o+"/points/add/"+a,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token_type")," ").concat(localStorage.getItem("access_token"))},body:JSON.stringify({score:e})}),t=await s.json();if(!s.ok)throw new Error((null===t||void 0===t?void 0:t.error)||"Failed to add points");return t};var l=s(579);const i=e=>{let{setTops:a,selectDefault:s,options:o}=e;const[i,d]=(0,n.useState)(!1),[p,u]=(0,n.useState)(0),[m,g]=(0,n.useState)(s);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"add-points-container",onClick:()=>d(e=>!e),children:(0,l.jsx)(r.Hpy,{})}),i&&(0,l.jsxs)("div",{className:"add-points",children:[(0,l.jsx)("p",{className:"grid-add1",children:"Classement"}),(0,l.jsx)("select",{className:"grid-add2",name:"Classement",value:m,onChange:e=>g(e.target.value),children:Object.keys(o).map(e=>(0,l.jsxs)("option",{value:e,children:[o[e].label," ",o[e].emoji]},e))}),(0,l.jsx)("input",{className:"grid-add3",type:"number",name:"Points",value:p,min:"0",max:"10000",onChange:e=>{!e.target.value||e.target.value<0?u(0):e.target.value>1e4?u(1e4):u(parseInt(e.target.value))}}),(0,l.jsx)("button",{className:"grid-add4",onClick:()=>{p>0&&(c(p,m.toLowerCase()).then(e=>{a(a=>(0,t.A)((0,t.A)({},a),{},{[m.toLowerCase()]:(0,t.A)((0,t.A)({},a[m.toLowerCase()]),{},{users:e.users})}))}),u(0),d(!1))},children:"Ajouter"}),(0,l.jsx)("p",{className:"grid-add5",children:o[m].format(p)||""})]})]})}}}]);
//# sourceMappingURL=734.715d2f60.chunk.js.map