{"version":3,"file":"static/js/544.370d7c56.chunk.js","mappings":"oWAgBA,MAqGA,EArGgBA,IAAmB,IAADC,EAAAC,EAAAC,EAAA,IAAjB,SAAEC,GAAUJ,EAC3B,MAAOK,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,CAC/BC,UAAW,CAAEC,MAAO,IACpBC,OAAQ,CAAED,MAAO,IACjBE,OAAQ,CAAEF,MAAO,MAGbG,EAAe,CACnBC,UAAW,CACTC,WAAY,KACZC,MAAO,YACPC,OAASC,GAAM,GAAAC,QACVC,EAAAA,EAAAA,IAAuBF,GAAO,OAAAC,QAAME,EAAAA,EAAAA,IAC5B,KAATH,GACD,OAELI,OAAQ,CACNP,WAAY,KACZC,MAAO,SACPC,OAASC,GAAM,GAAAC,QACVC,EAAAA,EAAAA,IAAuBF,GAAO,OAAAC,QAAME,EAAAA,EAAAA,IAC5B,KAATH,GACD,OAELK,OAAQ,CACNR,WAAY,KACZC,MAAO,SACPC,OAASC,GAAM,GAAAC,QACVC,EAAAA,EAAAA,IAAuBF,GAAO,OAAAC,QAAME,EAAAA,EAAAA,IAC5B,KAATH,GACD,QAmBP,OAfAM,EAAAA,EAAAA,WAAU,KAERC,QAAQC,IAAI,EACVC,EAAAA,EAAAA,GAAW,cACXA,EAAAA,EAAAA,GAAW,WACXA,EAAAA,EAAAA,GAAW,YACVC,KAAKC,IAA8C,IAA5CC,EAAeC,EAAYC,GAAWH,EAC9CtB,EAAQ,CACNE,WAAWwB,EAAAA,EAAAA,IAAUH,EAAcpB,OACnCC,QAAQsB,EAAAA,EAAAA,IAAUF,EAAWrB,OAC7BE,QAAQqB,EAAAA,EAAAA,IAAUD,EAAWtB,YAGhC,KAGDwB,EAAAA,EAAAA,MAAA,WAASC,UAAU,MAAKC,SAAA,EACtBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,4BAA2BC,SAAA,EAExCC,EAAAA,EAAAA,KAACC,EAAAA,EAAW,CACVC,OACEL,EAAAA,EAAAA,MAAAM,EAAAA,SAAA,CAAAJ,SAAA,CAAE,iBACe,KACfC,EAAAA,EAAAA,KAAA,OACEF,UAAU,uBACVM,IAAKC,EACLC,IAAI,kBAIVC,IAAmB,QAAhB1C,EAAEI,EAAKG,iBAAS,IAAAP,OAAA,EAAdA,EAAgBQ,SAIvB2B,EAAAA,EAAAA,KAACC,EAAAA,EAAW,CACVC,OACEL,EAAAA,EAAAA,MAAAM,EAAAA,SAAA,CAAAJ,SAAA,CAAE,oBACkB,KAClBC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,uBAAuBM,IAAK9B,EAAQgC,IAAI,cAG3DC,IAAgB,QAAbzC,EAAEG,EAAKK,cAAM,IAAAR,OAAA,EAAXA,EAAaO,SAIpB2B,EAAAA,EAAAA,KAACC,EAAAA,EAAW,CACVC,OACEL,EAAAA,EAAAA,MAAAM,EAAAA,SAAA,CAAAJ,SAAA,CAAE,oBACkB,KAClBC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,uBAAuBM,IAAK7B,EAAQ+B,IAAI,cAG3DC,IAAgB,QAAbxC,EAAEE,EAAKM,cAAM,IAAAR,OAAA,EAAXA,EAAaM,WAIrBL,IACCgC,EAAAA,EAAAA,KAACQ,EAAAA,EAAS,CACRtC,QAASA,EACTuC,cAAc,YACdC,QAASlC,O,iCC9GnB,MAAM,WAAEmC,GAAeC,EAAQ,KAc/B,EAZmBC,UACjB,MAAMC,QAAeC,MAAMJ,EAAa,wBAA0BK,EAAM,CACtEC,OAAQ,MACRC,QAAS,CACP,eAAgB,sBAKpB,aADyBJ,EAAOK,O,gECNlC,MAgEA,EAhEoBvD,IAAiD,IAAhD,MAAEsC,EAAK,IAAEK,EAAG,MAAEa,EAAK,IAAEC,EAAG,eAAEC,GAAgB1D,EAE7D,MAAM2D,EAASC,MAAMC,QAAQlB,GACzB,IAAIA,GAAKmB,KAAK,CAACC,EAAGC,IAAMA,EAAEC,MAAQF,EAAEE,OACpC,GAGEC,EAAkBP,EAAOQ,UAC5BC,GAAWA,EAAOH,MAAQP,GAGvBW,GAAiBC,EAAAA,EAAAA,IAAgBd,GACjCe,GAAeD,EAAAA,EAAAA,IAAgBb,GAErC,OACExB,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAIoC,MAAO,CAAEC,MAAO,iBAAkBtC,SAAEG,KACxCL,EAAAA,EAAAA,MAAA,MAAIC,UAAU,iBAAgBC,SAAA,CAC3ByB,MAAMC,QAAQF,IACbA,EAAOe,QAAQ,CAAA9C,EAAkB+C,KAAW,IAA5B,MAAEV,EAAK,KAAEW,GAAMhD,EAC7B,MAAMiD,EAAQ,GA6Bd,OA5BIX,IAAoBS,GACtBE,EAAMC,MACJ1C,EAAAA,EAAAA,KAAA,MAA+BF,UAAU,gBAAeC,UACtDF,EAAAA,EAAAA,MAAA,QAAMC,UAAU,qBAAoBC,SAAA,CACjCuB,EAAe,gBACX,aAAAxC,OAHayD,KAO1BE,EAAMC,MACJ7C,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,qBAAoBC,SACvB,IAAVwC,GACCvC,EAAAA,EAAAA,KAAC2C,EAAAA,IAAQ,CAACN,MAAM,YACJ,IAAVE,GACFvC,EAAAA,EAAAA,KAAC2C,EAAAA,IAAQ,CAACN,MAAM,YACJ,IAAVE,GACFvC,EAAAA,EAAAA,KAAC2C,EAAAA,IAAQ,CAACN,MAAM,YAEhBE,EAAQ,KAGZvC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,uBAAsBC,UACnChB,EAAAA,EAAAA,IAAuB8C,MAE1B7B,EAAAA,EAAAA,KAAA,QAAMF,UAAU,sBAAqBC,SAAEyC,MAAY,UAAA1D,OAflCyD,KAkBdE,KAGXzC,EAAAA,EAAAA,KAAA,MAAgBF,UAAU,gBAAeC,UACvCC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,qBAAoBC,SACjCkC,GAAkBE,EAAY,GAAArD,OACxBmD,EAAc,OAAAnD,OAAMqD,GACvB,MAJA,e,+DCxDhB,MAAM,WAAExB,GAAeC,EAAQ,KAoB/B,EAlBkBC,MAAOgB,EAAOe,KAC9B,MAAM9B,QAAeC,MAAMJ,EAAa,eAAiBiC,EAAU,CACjE3B,OAAQ,OACRC,QAAS,CACP,eAAgB,mBAChB2B,cAAc,GAAD/D,OAAKgE,aAAaC,QAC7B,cACD,KAAAjE,OAAIgE,aAAaC,QAAQ,kBAE5BC,KAAMC,KAAKC,UAAU,CACnBrB,YAKJ,aADyBf,EAAOK,Q,aCTlC,MAoEA,EApEkBvD,IAA0C,IAAzC,QAAEM,EAAO,cAAEuC,EAAa,QAAEC,GAAS9C,EACpD,MAAOuF,EAAQC,IAAajF,EAAAA,EAAAA,WAAS,IAC9BU,EAAQwE,IAAalF,EAAAA,EAAAA,UAAS,IAC9ByE,EAAUU,IAAenF,EAAAA,EAAAA,UAASsC,GAEzC,OACEZ,EAAAA,EAAAA,MAAAM,EAAAA,SAAA,CAAAJ,SAAA,EACEC,EAAAA,EAAAA,KAAA,OACEF,UAAU,uBACVyD,QAASA,IAAMH,EAAWI,IAAUA,GAAMzD,UAE1CC,EAAAA,EAAAA,KAACyD,EAAAA,IAAQ,MAEVN,IACCtD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,YAAWC,SAAC,gBACzBC,EAAAA,EAAAA,KAAA,UACEF,UAAU,YACV0C,KAAK,aACLkB,MAAOd,EACPe,SAAWC,GAAMN,EAAYM,EAAEC,OAAOH,OAAO3D,SAE5C+D,OAAOC,KAAKrD,GAASsD,IAAKC,IACzBpE,EAAAA,EAAAA,MAAA,UAAkB6D,MAAOO,EAAIlE,SAAA,CAC1BW,EAAQuD,GAAKtF,MAAM,IAAE+B,EAAQuD,GAAKC,QADxBD,OAKjBjE,EAAAA,EAAAA,KAAA,SACEF,UAAU,YACVkB,KAAK,SACLwB,KAAK,SACLkB,MAAO7E,EACPsF,IAAI,IACJC,IAAI,QACJT,SAAWC,KACJA,EAAEC,OAAOH,OAASE,EAAEC,OAAOH,MAAQ,EAAGL,EAAU,GAC5CO,EAAEC,OAAOH,MAAQ,IAAOL,EAAU,KACtCA,EAAUgB,SAAST,EAAEC,OAAOH,YAGrC1D,EAAAA,EAAAA,KAAA,UACEF,UAAU,YACVyD,QAASA,KACH1E,EAAS,IACXyF,EAAUzF,EAAQ+D,EAAS2B,eAAehF,KAAMiF,IAC9CtG,EAASsF,IAAIiB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACRjB,GAAI,IACP,CAACZ,EAAS2B,gBAAaE,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAClBjB,EAAKZ,EAAS2B,gBAAc,IAC/BlG,MAAOmG,EAAOnG,aAIpBgF,EAAU,GACVD,GAAU,KAEZrD,SACH,aAGDC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,YAAWC,SAAEW,EAAQkC,GAAUhE,OAAOC,IAAW,W","sources":["pages/isvalue/IsValue.jsx","utils/currentTop.js","components/Leaderboard/Leaderboard.jsx","utils/addPoints.js","components/AddPoints/AddPoints.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\nimport currentTop from \"../../utils/currentTop\";\nimport {\n  formatTop,\n  formatNumberWithSpaces,\n  compactNumber,\n} from \"../../utils/functions\";\n\nimport AddPoints from \"../../components/AddPoints/AddPoints\";\nimport Leaderboard from \"../../components/Leaderboard/Leaderboard\";\n\nimport dragon_egg from \"../../assets/dragon_egg.webp\";\nimport beacon from \"../../assets/beacon.webp\";\nimport sponge from \"../../assets/sponge.webp\";\n\nconst IsValue = ({ isLogged }) => {\n  const [tops, setTops] = useState({\n    dragonEgg: { users: [] },\n    beacon: { users: [] },\n    sponge: { users: [] },\n  });\n\n  const pointOptions = {\n    DragonEgg: {\n      multiplier: 1500000000,\n      label: \"DragonEgg\",\n      format: (points) =>\n        `${formatNumberWithSpaces(points)} = ${compactNumber(\n          points * 1500000000\n        )} $`,\n    },\n    Beacon: {\n      multiplier: 150000000,\n      label: \"Beacon\",\n      format: (points) =>\n        `${formatNumberWithSpaces(points)} = ${compactNumber(\n          points * 150000000\n        )} $`,\n    },\n    Sponge: {\n      multiplier: 15000000,\n      label: \"Sponge\",\n      format: (points) =>\n        `${formatNumberWithSpaces(points)} = ${compactNumber(\n          points * 15000000\n        )} $`,\n    },\n  };\n\n  useEffect(() => {\n    // Charger dragon_egg tops\n    Promise.all([\n      currentTop(\"dragonegg\"),\n      currentTop(\"beacon\"),\n      currentTop(\"sponge\"),\n    ]).then(([dragonEggData, beaconData, spongeData]) => {\n      setTops({\n        dragonEgg: formatTop(dragonEggData.users),\n        beacon: formatTop(beaconData.users),\n        sponge: formatTop(spongeData.users),\n      });\n    });\n  }, []);\n\n  return (\n    <section className=\"App\">\n      <div className=\"lff-classements-container\">\n        {/* Classement Dragon Egg */}\n        <Leaderboard\n          title={\n            <>\n              Classement Egg{\" \"}\n              <img\n                className=\"lff-classements-icon\"\n                src={dragon_egg}\n                alt=\"Dragon Egg\"\n              />\n            </>\n          }\n          top={tops.dragonEgg?.users}\n        />\n\n        {/* Classement Beacon */}\n        <Leaderboard\n          title={\n            <>\n              Classement Beacon{\" \"}\n              <img className=\"lff-classements-icon\" src={beacon} alt=\"Beacon\" />\n            </>\n          }\n          top={tops.beacon?.users}\n        />\n\n        {/* Classement Sponge */}\n        <Leaderboard\n          title={\n            <>\n              Classement Sponge{\" \"}\n              <img className=\"lff-classements-icon\" src={sponge} alt=\"Sponge\" />\n            </>\n          }\n          top={tops.sponge?.users}\n        />\n      </div>\n\n      {isLogged && (\n        <AddPoints\n          setTops={setTops}\n          selectDefault=\"DragonEgg\"\n          options={pointOptions}\n        />\n      )}\n    </section>\n  );\n};\n\nexport default IsValue;\n","const { defaultURL } = require(\"./defaultURL\");\n\nconst currentTop = async (type) => {\n  const result = await fetch(defaultURL + \"/leaderboard/current/\" + type, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  });\n\n  const resultJson = await result.json();\n  return resultJson;\n};\n\nexport default currentTop;\n","import \"./Leaderboard.css\";\nimport { FaTrophy } from \"react-icons/fa\";\nimport { formatNumberWithSpaces, formatDateShort } from \"../../utils/functions\";\n\nconst Leaderboard = ({ title, top, start, end, requiredAmount }) => {\n  // On trie les joueurs par score décroissant\n  const sorted = Array.isArray(top)\n    ? [...top].sort((a, b) => b.score - a.score)\n    : [];\n\n  // Trouver la position où les scores passent en dessous de `requiredAmount` (50 ou 1000)\n  const separationIndex = sorted.findIndex(\n    (player) => player.score < requiredAmount\n  );\n\n  const startFormatted = formatDateShort(start);\n  const endFormatted = formatDateShort(end);\n\n  return (\n    <div>\n      <h5 style={{ color: \"var(--text85)\" }}>{title}</h5>\n      <ul className=\"lff-classement\">\n        {Array.isArray(sorted) &&\n          sorted.flatMap(({ score, name }, index) => {\n            const items = [];\n            if (separationIndex === index) {\n              items.push(\n                <li key={`separator-${index}`} className=\"lff-separator\">\n                  <span className=\"lff-separator-text\">\n                    {requiredAmount} pts mini\n                  </span>\n                </li>\n              );\n            }\n            items.push(\n              <li key={`player-${index}`}>\n                <span className=\"lff-classement-top\">\n                  {index === 0 ? (\n                    <FaTrophy color=\"#FFD700\" />\n                  ) : index === 1 ? (\n                    <FaTrophy color=\"#C0C0C0\" />\n                  ) : index === 2 ? (\n                    <FaTrophy color=\"#CD7F32\" />\n                  ) : (\n                    index + 1\n                  )}\n                </span>\n                <span className=\"lff-classement-score\">\n                  {formatNumberWithSpaces(score)}\n                </span>\n                <span className=\"lff-classement-name\">{name}</span>\n              </li>\n            );\n            return items;\n          })}\n\n        <li key=\"dates\" className=\"lff-separator\">\n          <span className=\"lff-separator-text\">\n            {startFormatted && endFormatted\n              ? `${startFormatted} - ${endFormatted}`\n              : \"\"}\n          </span>\n        </li>\n      </ul>\n    </div>\n  );\n};\n\nexport default Leaderboard;\n","const { defaultURL } = require(\"./defaultURL\");\n\nconst addPoints = async (score, selected) => {\n  const result = await fetch(defaultURL + \"/points/add/\" + selected, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `${localStorage.getItem(\n        \"token_type\"\n      )} ${localStorage.getItem(\"access_token\")}`,\n    },\n    body: JSON.stringify({\n      score,\n    }),\n  });\n\n  const resultJson = await result.json();\n  return resultJson;\n};\n\nexport default addPoints;\n","import \"./AddPoints.css\";\nimport { useState } from \"react\";\n\nimport { IoIosAdd } from \"react-icons/io\";\n\nimport addPoints from \"../../utils/addPoints\";\n\nconst AddPoints = ({ setTops, selectDefault, options }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [points, setPoints] = useState(0);\n  const [selected, setSelected] = useState(selectDefault);\n\n  return (\n    <>\n      <div\n        className=\"add-points-container\"\n        onClick={() => setIsOpen((prev) => !prev)}\n      >\n        <IoIosAdd />\n      </div>\n      {isOpen && (\n        <div className=\"add-points\">\n          <p className=\"grid-add1\">Classement</p>\n          <select\n            className=\"grid-add2\"\n            name=\"Classement\"\n            value={selected}\n            onChange={(e) => setSelected(e.target.value)}\n          >\n            {Object.keys(options).map((key) => (\n              <option key={key} value={key}>\n                {options[key].label} {options[key].emoji}\n              </option>\n            ))}\n          </select>\n          <input\n            className=\"grid-add3\"\n            type=\"number\"\n            name=\"Points\"\n            value={points}\n            min=\"0\"\n            max=\"10000\"\n            onChange={(e) => {\n              if (!e.target.value || e.target.value < 0) setPoints(0);\n              else if (e.target.value > 10000) setPoints(10000);\n              else setPoints(parseInt(e.target.value));\n            }}\n          />\n          <button\n            className=\"grid-add4\"\n            onClick={() => {\n              if (points > 0) {\n                addPoints(points, selected.toLowerCase()).then((newTop) => {\n                  setTops((prev) => ({\n                    ...prev,\n                    [selected.toLowerCase()]: {\n                      ...prev[selected.toLowerCase()],\n                      users: newTop.users,\n                    },\n                  }));\n                });\n                setPoints(0);\n                setIsOpen(false);\n              }\n            }}\n          >\n            Ajouter\n          </button>\n          <p className=\"grid-add5\">{options[selected].format(points) || \"\"}</p>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default AddPoints;\n"],"names":["_ref","_tops$dragonEgg","_tops$beacon","_tops$sponge","isLogged","tops","setTops","useState","dragonEgg","users","beacon","sponge","pointOptions","DragonEgg","multiplier","label","format","points","concat","formatNumberWithSpaces","compactNumber","Beacon","Sponge","useEffect","Promise","all","currentTop","then","_ref2","dragonEggData","beaconData","spongeData","formatTop","_jsxs","className","children","_jsx","Leaderboard","title","_Fragment","src","dragon_egg","alt","top","AddPoints","selectDefault","options","defaultURL","require","async","result","fetch","type","method","headers","json","start","end","requiredAmount","sorted","Array","isArray","sort","a","b","score","separationIndex","findIndex","player","startFormatted","formatDateShort","endFormatted","style","color","flatMap","index","name","items","push","FaTrophy","selected","Authorization","localStorage","getItem","body","JSON","stringify","isOpen","setIsOpen","setPoints","setSelected","onClick","prev","IoIosAdd","value","onChange","e","target","Object","keys","map","key","emoji","min","max","parseInt","addPoints","toLowerCase","newTop","_objectSpread"],"sourceRoot":""}