{"version":3,"file":"static/js/659.e9315f04.chunk.js","mappings":"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","sources":["utils/profile.js","pages/profile/Profile.jsx"],"sourcesContent":["const { defaultURL } = require(\"./defaultURL\");\n\nconst profile = async () => {\n  const result = await fetch(defaultURL + \"/profile\", {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `${localStorage.getItem(\n        \"token_type\"\n      )} ${localStorage.getItem(\"access_token\")}`,\n    },\n  });\n\n  const resultJson = await result.json();\n\n  if (!result.ok) {\n    throw new Error(resultJson?.error || \"Failed to add points\");\n  }\n\n  return resultJson;\n};\n\nexport default profile;\n","import \"./Profile.css\";\nimport { useState, useEffect } from \"react\";\n\nimport { MdLeaderboard, MdAdminPanelSettings } from \"react-icons/md\";\nimport { GiTwoCoins } from \"react-icons/gi\";\n\nimport profile from \"../../utils/profile\";\n\nconst Profile = ({ isLogged, data }) => {\n  const [totals, setTotals] = useState({\n    crystaux: 0,\n    iscoin: 0,\n    dragonegg: 0,\n    beacon: 0,\n    sponge: 0,\n  });\n\n  useEffect(() => {\n    if (isLogged && data) {\n      profile().then((result) => {\n        if (result && !result.error) {\n          setTotals(result.totals);\n        }\n      });\n    }\n  }, [isLogged, data]);\n\n  if (!isLogged) {\n    return (\n      <section className=\"App\">\n        <div className=\"profile-dashboard profile-dashboard--center\">\n          <div className=\"profile-card\">\n            <h3>Accès refusé</h3>\n            <p>Ce tableau de bord est réservé aux membres du site.</p>\n          </div>\n        </div>\n      </section>\n    );\n  }\n\n  const chartConfig = {\n    type: \"bar\",\n    data: {\n      labels: [\"Crystaux\", \"IsCoin\", \"DragonEgg\", \"Beacon\", \"Sponge\"],\n      datasets: [\n        {\n          label: \"Valeur Totale (en $)\",\n          data: [\n            totals.crystaux,\n            totals.iscoin,\n            totals.dragonegg,\n            totals.beacon,\n            totals.sponge,\n          ],\n          backgroundColor: \"\",\n          borderRadius: 5,\n        },\n      ],\n    },\n    options: {\n      scales: {\n        yAxes: [\n          {\n            id: \"Y1\",\n            position: \"right\",\n          },\n        ],\n      },\n      plugins: {\n        tickFormat: \"a\",\n      },\n    },\n  };\n\n  return (\n    <section className=\"App\">\n      <div className=\"profile-dashboard profile-dashboard--center\">\n        <div className=\"profile-card\">\n          <div className=\"profile-card-header\">\n            <img\n              className=\"profile-card-pic\"\n              src={`https://cdn.discordapp.com/avatars/${data?.id}/${data?.avatar}.png`}\n              alt={data?.global_name}\n            />\n            <h3 className=\"profile-card-name\">{data?.global_name}</h3>\n          </div>\n          <div className=\"profile-card-footer\">\n            <div className=\"profile-card-access\">\n              <p>Accès :</p>\n              <div className=\"profile-access-badges\">\n                {data?.flags.includes(\"crystaux\") && (\n                  <span className=\"access-badge gang\">\n                    <MdLeaderboard />\n                    Gang\n                  </span>\n                )}\n                {data?.flags.includes(\"iscoin\") && (\n                  <span className=\"access-badge island\">\n                    <GiTwoCoins />\n                    Island\n                  </span>\n                )}\n                {data?.isAdmin && (\n                  <span className=\"access-badge admin\">\n                    <MdAdminPanelSettings />\n                    Dashboard\n                  </span>\n                )}\n              </div>\n            </div>\n            <img\n              className=\"profile-chart\"\n              src={`https://quickchart.io/chart?width=450&height=250&c=${encodeURIComponent(\n                JSON.stringify(chartConfig)\n              )}`}\n              alt=\"User stats\"\n            />\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default Profile;\n"],"names":["defaultURL","require","async","result","fetch","method","headers","Authorization","concat","localStorage","getItem","resultJson","json","ok","Error","error","_ref","isLogged","data","totals","setTotals","useState","crystaux","iscoin","dragonegg","beacon","sponge","useEffect","profile","then","_jsx","className","children","_jsxs","chartConfig","type","labels","datasets","label","backgroundColor","borderRadius","options","scales","yAxes","id","position","plugins","tickFormat","src","avatar","alt","global_name","flags","includes","MdLeaderboard","GiTwoCoins","isAdmin","MdAdminPanelSettings","encodeURIComponent","JSON","stringify"],"sourceRoot":""}