"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[532],{63:(e,s,t)=>{t.d(s,{J:()=>l,t:()=>o});var a=t(547);const n=t.p+"static/media/dragon_egg.46bf7bb95bf9561239d7.webp",c=t.p+"static/media/beacon.4493e6b9ee97a80325b2.webp",r=t.p+"static/media/sponge.c5d1b69c2e9e10cccf7c.webp",o={crystaux:{emoji:"\ud83d\udc8e",multiplier:100,label:"Crystaux",format:e=>"".concat((0,a.qy)(e)," = ").concat((0,a.$M)(100*e)," Crystaux"),requiredAmount:50},iscoin:{emoji:"\ud83e\ude99",multiplier:2e6,label:"IsCoin",format:e=>"".concat((0,a.qy)(e)," = ").concat((0,a.$M)(2e6*e)," $"),requiredAmount:1e3}},l={dragonegg:{multiplier:15e8,label:"DragonEgg",format:e=>"".concat((0,a.qy)(e)," = ").concat((0,a.$M)(15e8*e)," $"),icon:n},beacon:{multiplier:15e7,label:"Beacon",format:e=>"".concat((0,a.qy)(e)," = ").concat((0,a.$M)(15e7*e)," $"),icon:c},sponge:{multiplier:15e6,label:"Sponge",format:e=>"".concat((0,a.qy)(e)," = ").concat((0,a.$M)(15e6*e)," $"),icon:r}}},208:(e,s,t)=>{t.d(s,{A:()=>n});const{defaultURL:a}=t(938),n=async e=>{const s=await fetch(a+"/leaderboard/current/"+e,{method:"GET",headers:{"Content-Type":"application/json"}});return await s.json()}},416:(e,s,t)=>{t.d(s,{A:()=>r});var a=t(184),n=t(547),c=t(579);const r=e=>{let{title:s,top:t,start:r,end:o,requiredAmount:l}=e;const i=Array.isArray(t)?[...t].sort((e,s)=>s.score-e.score):[],d=i.findIndex(e=>e.score<l),u=(0,n.kz)(r),m=(0,n.kz)(o);return(0,c.jsxs)("div",{children:[(0,c.jsx)("h5",{style:{color:"var(--text85)"},children:s}),(0,c.jsxs)("ul",{className:"lff-classement",children:[Array.isArray(i)&&i.flatMap((e,s)=>{let{score:t,name:r}=e;const o=[];return d===s&&o.push((0,c.jsx)("li",{className:"lff-separator",children:(0,c.jsxs)("span",{className:"lff-separator-text",children:[l," pts mini"]})},"separator-".concat(s))),o.push((0,c.jsxs)("li",{children:[(0,c.jsx)("span",{className:"lff-classement-top",children:0===s?(0,c.jsx)(a.SBv,{color:"#FFD700"}):1===s?(0,c.jsx)(a.SBv,{color:"#C0C0C0"}):2===s?(0,c.jsx)(a.SBv,{color:"#CD7F32"}):s+1}),(0,c.jsx)("span",{className:"lff-classement-score",children:(0,n.qy)(t)}),(0,c.jsx)("span",{className:"lff-classement-name",children:r})]},"player-".concat(s))),o}),(0,c.jsx)("li",{className:"lff-separator",children:(0,c.jsx)("span",{className:"lff-separator-text",children:u&&m?"".concat(u," - ").concat(m):""})},"dates")]})]})}},984:(e,s,t)=>{t.r(s),t.d(s,{default:()=>d});var a=t(43),n=t(208),c=t(547),r=t(63),o=t(998),l=t(416),i=t(579);const d=e=>{let{isLogged:s,flags:t}=e;const[d,u]=(0,a.useState)({crystaux:{users:[]},iscoin:{users:[]}}),m=(0,c.ri)(r.t,t);(0,a.useEffect)(()=>{Promise.all([(0,n.A)("crystaux"),(0,n.A)("iscoin")]).then(e=>{let[s,t]=e;u({crystaux:(0,c.Ro)(s.users,s.start,s.end),iscoin:(0,c.Ro)(t.users,t.start,t.end)})})},[]);return(0,i.jsxs)("section",{className:"App",children:[(0,i.jsx)("div",{className:"lff-classements-container",children:["crystaux","iscoin"].map(e=>{var s,t,a;return(0,i.jsx)(l.A,{title:r.t[e].label+" "+r.t[e].emoji,top:null===(s=d[e])||void 0===s?void 0:s.users,start:null===(t=d[e])||void 0===t?void 0:t.start,end:null===(a=d[e])||void 0===a?void 0:a.end,requiredAmount:r.t[e].requiredAmount},e)})}),s&&Object.keys(m).length>0&&(0,i.jsx)(o.A,{setTops:u,selectDefault:Object.keys(m)[0],options:m})]})}},998:(e,s,t)=>{t.d(s,{A:()=>i});var a=t(555),n=t(43),c=t(423);const{defaultURL:r}=t(938),o=async(e,s)=>{const t=await fetch(r+"/points/add/"+s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token_type")," ").concat(localStorage.getItem("access_token"))},body:JSON.stringify({score:e})});return await t.json()};var l=t(579);const i=e=>{let{setTops:s,selectDefault:t,options:r}=e;const[i,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)(0),[p,f]=(0,n.useState)(t);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"add-points-container",onClick:()=>d(e=>!e),children:(0,l.jsx)(c.Hpy,{})}),i&&(0,l.jsxs)("div",{className:"add-points",children:[(0,l.jsx)("p",{className:"grid-add1",children:"Classement"}),(0,l.jsx)("select",{className:"grid-add2",name:"Classement",value:p,onChange:e=>f(e.target.value),children:Object.keys(r).map(e=>(0,l.jsxs)("option",{value:e,children:[r[e].label," ",r[e].emoji]},e))}),(0,l.jsx)("input",{className:"grid-add3",type:"number",name:"Points",value:u,min:"0",max:"10000",onChange:e=>{!e.target.value||e.target.value<0?m(0):e.target.value>1e4?m(1e4):m(parseInt(e.target.value))}}),(0,l.jsx)("button",{className:"grid-add4",onClick:()=>{u>0&&(o(u,p.toLowerCase()).then(e=>{s(s=>(0,a.A)((0,a.A)({},s),{},{[p.toLowerCase()]:(0,a.A)((0,a.A)({},s[p.toLowerCase()]),{},{users:e.users})}))}),m(0),d(!1))},children:"Ajouter"}),(0,l.jsx)("p",{className:"grid-add5",children:r[p].format(u)||""})]})]})}}}]);
//# sourceMappingURL=532.7c541491.chunk.js.map